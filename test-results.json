{"numTotalTestSuites":144,"numPassedTestSuites":139,"numFailedTestSuites":5,"numPendingTestSuites":0,"numTotalTests":386,"numPassedTests":372,"numFailedTests":14,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1768311340458,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should initialize with no processing","status":"passed","title":"should initialize with no processing","duration":3.055917000000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should update status and sync to storage when adding items","status":"passed","title":"should update status and sync to storage when adding items","duration":4.0548749999999245,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should handle priority (move to front) when adding existing window","status":"passed","title":"should handle priority (move to front) when adding existing window","duration":1.7877079999999523,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should not sync if status does not change","status":"passed","title":"should not sync if status does not change","duration":0.776958000000036,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should handle acquireQueue","status":"passed","title":"should handle acquireQueue","duration":0.29525000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should return pending items if acquireQueue called while busy","status":"passed","title":"should return pending items if acquireQueue called while busy","duration":0.2800000000000864,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should update status when completed","status":"passed","title":"should update status when completed","duration":0.2709579999999505,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should handle remove correctly","status":"passed","title":"should handle remove correctly","duration":0.2274170000000595,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should verify matching snapshot","status":"passed","title":"should verify matching snapshot","duration":0.20895900000004985,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should fail verification if groups are different","status":"passed","title":"should fail verification if groups are different","duration":0.15570900000000165,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should fail verification if tabs are different","status":"passed","title":"should fail verification if tabs are different","duration":0.12020900000004531,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should reconstruct tab and group data from snapshot","status":"passed","title":"should reconstruct tab and group data from snapshot","duration":0.44687499999997726,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should isolate snapshots by window","status":"passed","title":"should isolate snapshots by window","duration":0.14333299999998417,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should allow completing a specific window","status":"passed","title":"should allow completing a specific window","duration":0.13125000000002274,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should retain state if window is re-queued","status":"passed","title":"should retain state if window is re-queued","duration":0.18941700000004857,"failureMessages":[],"meta":{}}],"startTime":1768311343936,"endTime":1768311343948.1895,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/background/__tests__/processing.test.ts"},{"assertionResults":[{"ancestorTitles":["ProcessingState Persistence"],"fullName":"ProcessingState Persistence should NOT persist snapshot to storage immediately upon enqueue","status":"passed","title":"should NOT persist snapshot to storage immediately upon enqueue","duration":1.6028329999999755,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState Persistence"],"fullName":"ProcessingState Persistence should persist snapshot to storage ONLY when completeWindow is called","status":"passed","title":"should persist snapshot to storage ONLY when completeWindow is called","duration":1.2978750000000332,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState Persistence"],"fullName":"ProcessingState Persistence should ignore enqueue requests if fingerprint matches existing in-memory state (Deduping)","status":"passed","title":"should ignore enqueue requests if fingerprint matches existing in-memory state (Deduping)","duration":0.40949999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState Persistence"],"fullName":"ProcessingState Persistence should update in-memory state if fingerprint changes","status":"passed","title":"should update in-memory state if fingerprint changes","duration":0.2237920000000031,"failureMessages":[],"meta":{}}],"startTime":1768311342693,"endTime":1768311342697.2239,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/background/__tests__/processing_persistence.test.ts"},{"assertionResults":[{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should cache suggestions when autopilot is OFF","status":"passed","title":"should cache suggestions when autopilot is OFF","duration":4.088124999999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should apply groups immediately when autopilot is ON","status":"passed","title":"should apply groups immediately when autopilot is ON","duration":0.8402499999999691,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should handle window closed error gracefully","status":"passed","title":"should handle window closed error gracefully","duration":0.3782500000000937,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should skip non-normal windows","status":"passed","title":"should skip non-normal windows","duration":0.27004199999998946,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should clear queue and release if Tab Grouper is disabled","status":"passed","title":"should clear queue and release if Tab Grouper is disabled","duration":0.2617079999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should abort if snapshot verification fails","status":"passed","title":"should abort if snapshot verification fails","duration":0.8130419999999958,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should NOT cache negative results for missing tabs","status":"passed","title":"should NOT cache negative results for missing tabs","duration":0.9270000000000209,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should handle failed queue acquisition","status":"passed","title":"should handle failed queue acquisition","duration":0.27795800000001236,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should handle errors when applying suggestions in autopilot mode","status":"passed","title":"should handle errors when applying suggestions in autopilot mode","duration":2.7541660000000547,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should handle AI errors and store them","status":"passed","title":"should handle AI errors and store them","duration":0.7426659999999856,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should track virtual group IDs when creating new groups in autopilot","status":"passed","title":"should track virtual group IDs when creating new groups in autopilot","duration":0.3881669999999531,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should handle missing window state gracefully","status":"passed","title":"should handle missing window state gracefully","duration":0.2200839999999289,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should handle windows with no ungrouped tabs","status":"passed","title":"should handle windows with no ungrouped tabs","duration":0.23591699999997218,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor","Smart Abort Logic"],"fullName":"QueueProcessor Smart Abort Logic should abort if a fatal change (User Grouping) occurs during processing","status":"passed","title":"should abort if a fatal change (User Grouping) occurs during processing","duration":1.2779170000000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor","Smart Abort Logic"],"fullName":"QueueProcessor Smart Abort Logic should NOT abort if a benign change (New Tab) occurs","status":"passed","title":"should NOT abort if a benign change (New Tab) occurs","duration":2.3541669999999613,"failureMessages":[],"meta":{}}],"startTime":1768311343690,"endTime":1768311343706.3542,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/background/__tests__/queueProcessor.test.ts"},{"assertionResults":[{"ancestorTitles":["QueueProcessor Batch Sizing"],"fullName":"QueueProcessor Batch Sizing should use batch size 200 for Gemini provider","status":"passed","title":"should use batch size 200 for Gemini provider","duration":2.585916999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor Batch Sizing"],"fullName":"QueueProcessor Batch Sizing should use batch size 10 for Local provider","status":"passed","title":"should use batch size 10 for Local provider","duration":0.5116249999999809,"failureMessages":[],"meta":{}}],"startTime":1768311346163,"endTime":1768311346165.586,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/background/__tests__/queueProcessor_batching.test.ts"},{"assertionResults":[{"ancestorTitles":["StateService"],"fullName":"StateService should start with empty cache","status":"passed","title":"should start with empty cache","duration":2.6349170000000868,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should hydrate from storage","status":"passed","title":"should hydrate from storage","duration":2.2015420000000177,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should update and persist suggestions","status":"passed","title":"should update and persist suggestions","duration":1.307790999999952,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should remove suggestion","status":"passed","title":"should remove suggestion","duration":0.28358300000002146,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should return false when removing non-existent suggestion","status":"passed","title":"should return false when removing non-existent suggestion","duration":0.09658300000000963,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should notify listeners on update","status":"passed","title":"should notify listeners on update","duration":0.3482500000000073,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should get per-window cache","status":"passed","title":"should get per-window cache","duration":0.47929199999998673,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should store and retrieve window snapshots","status":"passed","title":"should store and retrieve window snapshots","duration":0.17762499999992087,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should hydrate snapshots from storage","status":"passed","title":"should hydrate snapshots from storage","duration":0.11154099999998834,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should handle snapshot updates gracefully","status":"passed","title":"should handle snapshot updates gracefully","duration":0.1143329999999878,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should store and retrieve duplicate counts","status":"passed","title":"should store and retrieve duplicate counts","duration":0.11004200000002129,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should notify listeners on duplicate count change","status":"passed","title":"should notify listeners on duplicate count change","duration":0.7412910000000466,"failureMessages":[],"meta":{}}],"startTime":1768311343937,"endTime":1768311343945.7412,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/background/__tests__/state.test.ts"},{"assertionResults":[{"ancestorTitles":["TabManager","handleTabUpdated"],"fullName":"TabManager handleTabUpdated should remove suggestion if URL changed","status":"failed","title":"should remove suggestion if URL changed","duration":4.358790999999883,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated"],"fullName":"TabManager handleTabUpdated should remove suggestion if groupId changed","status":"failed","title":"should remove suggestion if groupId changed","duration":0.7814169999999194,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated"],"fullName":"TabManager handleTabUpdated should trigger recalculation if moved to TAB_ID_NONE","status":"failed","title":"should trigger recalculation if moved to TAB_ID_NONE","duration":0.4475830000001224,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated"],"fullName":"TabManager handleTabUpdated should NOT trigger recalculation if moved to a group","status":"failed","title":"should NOT trigger recalculation if moved to a group","duration":0.3887919999999667,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated"],"fullName":"TabManager handleTabUpdated should trigger recalculation if status is complete","status":"failed","title":"should trigger recalculation if status is complete","duration":0.3756660000001375,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated","Autopilot Duplicate Cleaning"],"fullName":"TabManager handleTabUpdated Autopilot Duplicate Cleaning should NOT check duplicates if autopilot is OFF","status":"failed","title":"should NOT check duplicates if autopilot is OFF","duration":0.36829099999999926,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated","Autopilot Duplicate Cleaning"],"fullName":"TabManager handleTabUpdated Autopilot Duplicate Cleaning should check and remove duplicates if autopilot is ON","status":"failed","title":"should check and remove duplicates if autopilot is ON","duration":0.37412499999982174,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated","Autopilot Duplicate Cleaning"],"fullName":"TabManager handleTabUpdated Autopilot Duplicate Cleaning should NOT remove updated tab if it is the one to keep","status":"failed","title":"should NOT remove updated tab if it is the one to keep","duration":0.5797500000001037,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","triggerRecalculation"],"fullName":"TabManager triggerRecalculation should debounce multiple rapid calls","status":"failed","title":"should debounce multiple rapid calls","duration":0.45345799999995506,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","triggerRecalculation"],"fullName":"TabManager triggerRecalculation should add windowId to processing state after debounce IF tab count > 0","status":"failed","title":"should add windowId to processing state after debounce IF tab count > 0","duration":0.36208299999998417,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","triggerRecalculation"],"fullName":"TabManager triggerRecalculation should NOT add windowId if tab count == 0 (fixed behavior)","status":"failed","title":"should NOT add windowId if tab count == 0 (fixed behavior)","duration":0.3100839999999607,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","triggerRecalculation"],"fullName":"TabManager triggerRecalculation should process window if mismatch and tab count > 0","status":"failed","title":"should process window if mismatch and tab count > 0","duration":0.3192079999998896,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","triggerRecalculation"],"fullName":"TabManager triggerRecalculation should NOT process window if state matches (no change)","status":"failed","title":"should NOT process window if state matches (no change)","duration":0.3369999999999891,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}},{"ancestorTitles":["TabManager","triggerRecalculation"],"fullName":"TabManager triggerRecalculation should process multiple windows","status":"failed","title":"should process multiple windows","duration":0.33837500000004184,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'addListener')\n    at new TabManager (/Users/larry/dev/lattice/src/background/tabManager.ts:41:34)\n    at /Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts:99:22\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at runHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1514:51)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///Users/larry/dev/lattice/node_modules/@vitest/runner/dist/index.js:1507:21)"],"meta":{}}],"startTime":1768311341700,"endTime":1768311341710.3384,"status":"failed","message":"","name":"/Users/larry/dev/lattice/src/background/__tests__/tabManager.test.ts"},{"assertionResults":[{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should initialize and load ungrouped tabs","status":"passed","title":"should initialize and load ungrouped tabs","duration":72.1874170000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should load suggestions from storage on mount","status":"passed","title":"should load suggestions from storage on mount","duration":55.46733300000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should update preview when storage changes","status":"passed","title":"should update preview when storage changes","duration":106.36729200000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should attempt reconnect on port disconnect","status":"passed","title":"should attempt reconnect on port disconnect","duration":2106.708959,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should wait for windowId before subscribing to storage","status":"passed","title":"should wait for windowId before subscribing to storage","duration":55.94766699999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should only load suggestions for current window","status":"passed","title":"should only load suggestions for current window","duration":54.348625000000084,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should maintain user selection when identical storage updates occur","status":"passed","title":"should maintain user selection when identical storage updates occur","duration":113.69458299999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should select new groups by default while preserving existing selections","status":"passed","title":"should select new groups by default while preserving existing selections","duration":172.3884579999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should select or deselect all groups using setAllGroupsSelected","status":"passed","title":"should select or deselect all groups using setAllGroupsSelected","duration":57.821292000000085,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should trigger regeneration and optimistically update state","status":"passed","title":"should trigger regeneration and optimistically update state","duration":58.4501250000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should trigger processing and optimistically update state","status":"passed","title":"should trigger processing and optimistically update state","duration":51.858708999999635,"failureMessages":[],"meta":{}}],"startTime":1768311341669,"endTime":1768311344574.8586,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/hooks/__tests__/useTabGrouper.test.ts"},{"assertionResults":[{"ancestorTitles":["badge utils","updateWindowBadge"],"fullName":"badge utils updateWindowBadge should show processing state","status":"passed","title":"should show processing state","duration":1.9382909999999356,"failureMessages":[],"meta":{}},{"ancestorTitles":["badge utils","updateWindowBadge"],"fullName":"badge utils updateWindowBadge should show total count","status":"passed","title":"should show total count","duration":0.31483300000002146,"failureMessages":[],"meta":{}},{"ancestorTitles":["badge utils","updateWindowBadge"],"fullName":"badge utils updateWindowBadge should do nothing if no active tab in window","status":"passed","title":"should do nothing if no active tab in window","duration":0.1743340000000444,"failureMessages":[],"meta":{}},{"ancestorTitles":["badge utils","updateWindowBadge"],"fullName":"badge utils updateWindowBadge should show error state with correct color","status":"passed","title":"should show error state with correct color","duration":0.22137499999996635,"failureMessages":[],"meta":{}},{"ancestorTitles":["badge utils","updateWindowBadge"],"fullName":"badge utils updateWindowBadge should show custom text","status":"passed","title":"should show custom text","duration":0.18304200000000037,"failureMessages":[],"meta":{}}],"startTime":1768311346105,"endTime":1768311346108.183,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/utils/__tests__/badge.test.ts"},{"assertionResults":[{"ancestorTitles":["debounce"],"fullName":"debounce should delay function execution","status":"passed","title":"should delay function execution","duration":2.132583000000068,"failureMessages":[],"meta":{}},{"ancestorTitles":["debounce"],"fullName":"debounce should only call function once for rapid successive calls","status":"passed","title":"should only call function once for rapid successive calls","duration":1.774583000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["debounce"],"fullName":"debounce should reset timer on each call","status":"passed","title":"should reset timer on each call","duration":13.91112499999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["debounce"],"fullName":"debounce should pass arguments to the debounced function","status":"passed","title":"should pass arguments to the debounced function","duration":3.8785830000000487,"failureMessages":[],"meta":{}},{"ancestorTitles":["debounce"],"fullName":"debounce should use the last arguments when called multiple times","status":"passed","title":"should use the last arguments when called multiple times","duration":0.9851670000000468,"failureMessages":[],"meta":{}},{"ancestorTitles":["debounce"],"fullName":"debounce should allow multiple separate debounced calls after delay","status":"passed","title":"should allow multiple separate debounced calls after delay","duration":0.382041000000072,"failureMessages":[],"meta":{}}],"startTime":1768311344943,"endTime":1768311344966.382,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/utils/__tests__/debounce.test.ts"},{"assertionResults":[{"ancestorTitles":["AppError"],"fullName":"AppError should correctly capture the message and original error","status":"passed","title":"should correctly capture the message and original error","duration":0.8540000000000418,"failureMessages":[],"meta":{}},{"ancestorTitles":["AIProviderError"],"fullName":"AIProviderError should be instance of AppError","status":"passed","title":"should be instance of AppError","duration":0.13866600000005747,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFriendlyError"],"fullName":"getUserFriendlyError should handle ConfigurationError","status":"passed","title":"should handle ConfigurationError","duration":0.11125000000004093,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFriendlyError"],"fullName":"getUserFriendlyError should handle AIProviderError for Local AI unavailability","status":"passed","title":"should handle AIProviderError for Local AI unavailability","duration":0.12637500000005275,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFriendlyError"],"fullName":"getUserFriendlyError should handle NetworkError","status":"passed","title":"should handle NetworkError","duration":0.09883300000001327,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFriendlyError"],"fullName":"getUserFriendlyError should fall back to message for unknown errors","status":"passed","title":"should fall back to message for unknown errors","duration":0.06862499999999727,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFriendlyError"],"fullName":"getUserFriendlyError should handle legacy string matching for Gemini API keys","status":"passed","title":"should handle legacy string matching for Gemini API keys","duration":0.05979200000001583,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFriendlyError"],"fullName":"getUserFriendlyError should handle Gemini 429 error by status code","status":"passed","title":"should handle Gemini 429 error by status code","duration":0.05379200000004403,"failureMessages":[],"meta":{}}],"startTime":1768311346452,"endTime":1768311346453.1387,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/utils/__tests__/errors.test.ts"},{"assertionResults":[{"ancestorTitles":["WindowSnapshot Integration"],"fullName":"WindowSnapshot Integration should exclude grouped tabs from groupable tabs list","status":"passed","title":"should exclude grouped tabs from groupable tabs list","duration":0.8824169999999185,"failureMessages":[],"meta":{}},{"ancestorTitles":["WindowSnapshot Integration"],"fullName":"WindowSnapshot Integration should generate correct batches ignoring grouped tabs","status":"passed","title":"should generate correct batches ignoring grouped tabs","duration":0.20837500000004638,"failureMessages":[],"meta":{}},{"ancestorTitles":["WindowSnapshot Integration","Deterministic Sampling"],"fullName":"WindowSnapshot Integration Deterministic Sampling should have a deterministic hash function","status":"passed","title":"should have a deterministic hash function","duration":0.39895899999999074,"failureMessages":[],"meta":{}},{"ancestorTitles":["WindowSnapshot Integration","Deterministic Sampling"],"fullName":"WindowSnapshot Integration Deterministic Sampling should deterministically sample tabs based on hash","status":"passed","title":"should deterministically sample tabs based on hash","duration":1.2205410000000256,"failureMessages":[],"meta":{}},{"ancestorTitles":["WindowSnapshot Integration","Deterministic Sampling"],"fullName":"WindowSnapshot Integration Deterministic Sampling should not just select first 10 IDs (verifying non-linear sort)","status":"passed","title":"should not just select first 10 IDs (verifying non-linear sort)","duration":0.27783400000009806,"failureMessages":[],"meta":{}}],"startTime":1768311345435,"endTime":1768311345438.2778,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/utils/__tests__/snapshots.test.ts"},{"assertionResults":[{"ancestorTitles":["SettingsStorage"],"fullName":"SettingsStorage should return default rules when custom rules are empty and resolveDefaults is true (default)","status":"passed","title":"should return default rules when custom rules are empty and resolveDefaults is true (default)","duration":3.1963329999999814,"failureMessages":[],"meta":{}},{"ancestorTitles":["SettingsStorage"],"fullName":"SettingsStorage should return default rules when custom rules are explicitly empty string and resolveDefaults is true","status":"passed","title":"should return default rules when custom rules are explicitly empty string and resolveDefaults is true","duration":0.2123340000000553,"failureMessages":[],"meta":{}},{"ancestorTitles":["SettingsStorage"],"fullName":"SettingsStorage should return empty string when custom rules are empty and resolveDefaults is false","status":"passed","title":"should return empty string when custom rules are empty and resolveDefaults is false","duration":0.12029099999995196,"failureMessages":[],"meta":{}},{"ancestorTitles":["SettingsStorage"],"fullName":"SettingsStorage should return custom rules when they exist, regardless of resolveDefaults","status":"passed","title":"should return custom rules when they exist, regardless of resolveDefaults","duration":0.1485410000000229,"failureMessages":[],"meta":{}},{"ancestorTitles":["SettingsStorage"],"fullName":"SettingsStorage should split settings between sync and local storage on set","status":"passed","title":"should split settings between sync and local storage on set","duration":5.987416999999937,"failureMessages":[],"meta":{}},{"ancestorTitles":["SettingsStorage"],"fullName":"SettingsStorage should update specific feature using read-modify-write","status":"passed","title":"should update specific feature using read-modify-write","duration":0.5765829999999141,"failureMessages":[],"meta":{}},{"ancestorTitles":["SettingsStorage"],"fullName":"SettingsStorage should enforce autopilot logic during updateFeature","status":"passed","title":"should enforce autopilot logic during updateFeature","duration":0.1962500000000773,"failureMessages":[],"meta":{}}],"startTime":1768311345721,"endTime":1768311345731.1963,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/utils/__tests__/storage.test.ts"},{"assertionResults":[{"ancestorTitles":["tabFilter","isEmptyNewTab"],"fullName":"tabFilter isEmptyNewTab should identify empty new tab pages","status":"passed","title":"should identify empty new tab pages","duration":0.9625829999999951,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return true for normal tabs","status":"passed","title":"should return true for normal tabs","duration":0.11404100000004291,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return false for tabs without ID","status":"passed","title":"should return false for tabs without ID","duration":0.0684160000000702,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return false for tabs without URL","status":"passed","title":"should return false for tabs without URL","duration":0.07291699999996126,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return false for tabs without title","status":"passed","title":"should return false for tabs without title","duration":0.07979199999999764,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return false for loading tabs","status":"passed","title":"should return false for loading tabs","duration":0.06320799999991777,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return false for empty new tab pages","status":"passed","title":"should return false for empty new tab pages","duration":0.049541999999973996,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return false for grouped tabs","status":"passed","title":"should return false for grouped tabs","duration":0.04462499999999636,"failureMessages":[],"meta":{}}],"startTime":1768311346648,"endTime":1768311346650.114,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/utils/__tests__/tabFilter.test.ts"},{"assertionResults":[{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should return undefined if no tabIds provided","status":"passed","title":"should return undefined if no tabIds provided","duration":0.9446669999999813,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should create a new group with windowId if no existingGroupId provided","status":"passed","title":"should create a new group with windowId if no existingGroupId provided","duration":1.0619589999999448,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should add to existing group if existingGroupId provided","status":"passed","title":"should add to existing group if existingGroupId provided","duration":0.2943329999999378,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should fallback to creating new group if adding to existing group fails with \"No group with id\"","status":"passed","title":"should fallback to creating new group if adding to existing group fails with \"No group with id\"","duration":0.4455000000000382,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should throw error if adding to existing group fails with other error","status":"passed","title":"should throw error if adding to existing group fails with other error","duration":0.8431659999999965,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should return undefined if window is not normal type","status":"passed","title":"should return undefined if window is not normal type","duration":0.1178340000000162,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should return undefined if window does not exist","status":"passed","title":"should return undefined if window does not exist","duration":0.1158340000000635,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should filter out tabs not in the window","status":"passed","title":"should filter out tabs not in the window","duration":0.1402499999999236,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should return undefined if no tabs are in the window","status":"passed","title":"should return undefined if no tabs are in the window","duration":0.08566599999994651,"failureMessages":[],"meta":{}}],"startTime":1768311342729,"endTime":1768311342733.1401,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/utils/__tests__/tabs.test.ts"},{"assertionResults":[{"ancestorTitles":["Integration Flow: Auto-Grouping & Smart Abort"],"fullName":"Integration Flow: Auto-Grouping & Smart Abort Scenario 1: Auto-Grouping - Should group tabs based on URL content","status":"passed","title":"Scenario 1: Auto-Grouping - Should group tabs based on URL content","duration":19.876500000000078,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration Flow: Auto-Grouping & Smart Abort"],"fullName":"Integration Flow: Auto-Grouping & Smart Abort Scenario 2: Smart Abort - Should handle gracefully when tab is removed before processing","status":"passed","title":"Scenario 2: Smart Abort - Should handle gracefully when tab is removed before processing","duration":12.885915999999952,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration Flow: Auto-Grouping & Smart Abort"],"fullName":"Integration Flow: Auto-Grouping & Smart Abort Scenario 3: Mixed content - Groups correctly","status":"passed","title":"Scenario 3: Mixed content - Groups correctly","duration":13.452207999999928,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration Flow: Auto-Grouping & Smart Abort"],"fullName":"Integration Flow: Auto-Grouping & Smart Abort Scenario 4: Smart Abort - Should abort AI call when fatal change detected during processing","status":"passed","title":"Scenario 4: Smart Abort - Should abort AI call when fatal change detected during processing","duration":266.3442090000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration Flow: Auto-Grouping & Smart Abort"],"fullName":"Integration Flow: Auto-Grouping & Smart Abort Scenario 5: Window Closed during processing - Should abort AI call","status":"passed","title":"Scenario 5: Window Closed during processing - Should abort AI call","duration":67.01608299999998,"failureMessages":[],"meta":{}}],"startTime":1768311341823,"endTime":1768311342203.016,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/background/__tests__/integration/flow.test.ts"},{"assertionResults":[{"ancestorTitles":["DuplicateCloser","closeDuplicates"],"fullName":"DuplicateCloser closeDuplicates should close duplicate tabs in current window","status":"passed","title":"should close duplicate tabs in current window","duration":2.9308750000000714,"failureMessages":[],"meta":{}},{"ancestorTitles":["DuplicateCloser","closeDuplicates"],"fullName":"DuplicateCloser closeDuplicates should return empty result when no duplicates exist","status":"passed","title":"should return empty result when no duplicates exist","duration":0.2794169999999667,"failureMessages":[],"meta":{}},{"ancestorTitles":["DuplicateCloser","closeDuplicates"],"fullName":"DuplicateCloser closeDuplicates should use windowId when provided","status":"passed","title":"should use windowId when provided","duration":0.19354200000009314,"failureMessages":[],"meta":{}},{"ancestorTitles":["DuplicateCloser","closeDuplicatesInWindow"],"fullName":"DuplicateCloser closeDuplicatesInWindow should close duplicates in specific window","status":"passed","title":"should close duplicates in specific window","duration":0.2518329999999196,"failureMessages":[],"meta":{}},{"ancestorTitles":["DuplicateCloser","closeDuplicatesInWindow"],"fullName":"DuplicateCloser closeDuplicatesInWindow should keep pinned tabs over unpinned duplicates","status":"passed","title":"should keep pinned tabs over unpinned duplicates","duration":0.17737499999998363,"failureMessages":[],"meta":{}},{"ancestorTitles":["DuplicateCloser","closeDuplicatesInWindow"],"fullName":"DuplicateCloser closeDuplicatesInWindow should keep active tab over inactive duplicates","status":"passed","title":"should keep active tab over inactive duplicates","duration":0.13949999999999818,"failureMessages":[],"meta":{}}],"startTime":1768311344186,"endTime":1768311344190.1775,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/services/duplicates/__tests__/DuplicateCloser.test.ts"},{"assertionResults":[{"ancestorTitles":["duplicates utility","findDuplicates"],"fullName":"duplicates utility findDuplicates should group tabs by normalized URL","status":"passed","title":"should group tabs by normalized URL","duration":2.1567079999999805,"failureMessages":[],"meta":{}},{"ancestorTitles":["duplicates utility","findDuplicates"],"fullName":"duplicates utility findDuplicates should ignore tabs without URL","status":"passed","title":"should ignore tabs without URL","duration":0.1661669999999731,"failureMessages":[],"meta":{}},{"ancestorTitles":["duplicates utility","countDuplicates"],"fullName":"duplicates utility countDuplicates should count extra tabs as duplicates","status":"passed","title":"should count extra tabs as duplicates","duration":0.12058300000001054,"failureMessages":[],"meta":{}},{"ancestorTitles":["duplicates utility","getTabsToRemove"],"fullName":"duplicates utility getTabsToRemove should keep pinned tabs","status":"passed","title":"should keep pinned tabs","duration":0.6701659999999947,"failureMessages":[],"meta":{}},{"ancestorTitles":["duplicates utility","getTabsToRemove"],"fullName":"duplicates utility getTabsToRemove should keep active tabs","status":"passed","title":"should keep active tabs","duration":0.4158749999999145,"failureMessages":[],"meta":{}},{"ancestorTitles":["duplicates utility","getTabsToRemove"],"fullName":"duplicates utility getTabsToRemove should keep pinned over active","status":"passed","title":"should keep pinned over active","duration":0.09458299999994324,"failureMessages":[],"meta":{}},{"ancestorTitles":["duplicates utility","getTabsToRemove"],"fullName":"duplicates utility getTabsToRemove should keep oldest (lowest ID) if everything else equal","status":"passed","title":"should keep oldest (lowest ID) if everything else equal","duration":0.19087500000000546,"failureMessages":[],"meta":{}}],"startTime":1768311346631,"endTime":1768311346635.191,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/services/duplicates/__tests__/utils.test.ts"},{"assertionResults":[{"ancestorTitles":["AIService"],"fullName":"AIService should return GeminiProvider when aiProvider is gemini","status":"passed","title":"should return GeminiProvider when aiProvider is gemini","duration":0.7409160000000838,"failureMessages":[],"meta":{}},{"ancestorTitles":["AIService"],"fullName":"AIService should return LocalProvider when aiProvider is local","status":"passed","title":"should return LocalProvider when aiProvider is local","duration":0.134708000000046,"failureMessages":[],"meta":{}},{"ancestorTitles":["AIService","listGeminiModels"],"fullName":"AIService listGeminiModels should return empty list if api key is missing","status":"passed","title":"should return empty list if api key is missing","duration":0.40041600000006383,"failureMessages":[],"meta":{}},{"ancestorTitles":["AIService","listGeminiModels"],"fullName":"AIService listGeminiModels should list and filter models correctly","status":"passed","title":"should list and filter models correctly","duration":1.353666999999973,"failureMessages":[],"meta":{}},{"ancestorTitles":["AIService","listGeminiModels"],"fullName":"AIService listGeminiModels should handle API errors gracefully","status":"passed","title":"should handle API errors gracefully","duration":1.752207999999996,"failureMessages":[],"meta":{}}],"startTime":1768311344261,"endTime":1768311344264.7522,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/services/ai/__tests__/AIService.test.ts"},{"assertionResults":[{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should collect error if API key is missing","status":"passed","title":"should collect error if API key is missing","duration":5.987917000000039,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should collect error if model is missing","status":"passed","title":"should collect error if model is missing","duration":2.7119169999999713,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should correctly handle assignments and group mapping","status":"passed","title":"should correctly handle assignments and group mapping","duration":5.3357919999999694,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should use existing group ID if AI returns existing name","status":"passed","title":"should use existing group ID if AI returns existing name","duration":6.677042000000029,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should handle malformed JSON response gracefully","status":"passed","title":"should handle malformed JSON response gracefully","duration":6.328125,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should collect error on empty response text","status":"passed","title":"should collect error on empty response text","duration":2.0892499999999927,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should handle Gemma models differently (no system instruction in config)","status":"passed","title":"should handle Gemma models differently (no system instruction in config)","duration":0.4095420000001013,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider","Prompt Construction Context"],"fullName":"GeminiProvider Prompt Construction Context should construct prompt with existing group tabs and sampled content","status":"passed","title":"should construct prompt with existing group tabs and sampled content","duration":1.14712499999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider","Prompt Construction Context"],"fullName":"GeminiProvider Prompt Construction Context should handle empty group tabs gracefully","status":"passed","title":"should handle empty group tabs gracefully","duration":0.11037499999997635,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should abort inflight request when signal is triggered","status":"passed","title":"should abort inflight request when signal is triggered","duration":0.8315840000000208,"failureMessages":[],"meta":{}}],"startTime":1768311343336,"endTime":1768311343367.8315,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/services/ai/__tests__/GeminiProvider.test.ts"},{"assertionResults":[{"ancestorTitles":["LocalProvider","checkAvailability"],"fullName":"LocalProvider checkAvailability should return \"unavailable\" if AI API is not present","status":"passed","title":"should return \"unavailable\" if AI API is not present","duration":0.8998750000000655,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider","checkAvailability"],"fullName":"LocalProvider checkAvailability should return availability status from API","status":"passed","title":"should return availability status from API","duration":0.20620799999994688,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider","checkAvailability"],"fullName":"LocalProvider checkAvailability should return \"unavailable\" if availability check throws","status":"passed","title":"should return \"unavailable\" if availability check throws","duration":4.298792000000049,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should initialize session on first call","status":"passed","title":"should initialize session on first call","duration":1.9578749999999445,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should reuse cached session if prompts match","status":"passed","title":"should reuse cached session if prompts match","duration":0.7470829999999751,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should re-initialize session if rules change","status":"passed","title":"should re-initialize session if rules change","duration":0.5956669999999349,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should process all tabs in a single batch prompt","status":"passed","title":"should process all tabs in a single batch prompt","duration":2.9559169999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should collect error if AI API is not supported","status":"passed","title":"should collect error if AI API is not supported","duration":3.452833000000055,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should initialize download model with monitoring","status":"passed","title":"should initialize download model with monitoring","duration":0.35716600000000653,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider","Prompt Context"],"fullName":"LocalProvider Prompt Context should NOT include tab details in existing groups prompt (context optimization)","status":"passed","title":"should NOT include tab details in existing groups prompt (context optimization)","duration":0.2825829999999314,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should abort inflight request when signal is triggered","status":"passed","title":"should abort inflight request when signal is triggered","duration":2.644957999999974,"failureMessages":[],"meta":{}}],"startTime":1768311343455,"endTime":1768311343473.645,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/services/ai/__tests__/LocalProvider.test.ts"},{"assertionResults":[{"ancestorTitles":["sanitizeUrl Performance Benchmark"],"fullName":"sanitizeUrl Performance Benchmark should handle high throughput","status":"passed","title":"should handle high throughput","duration":370.95074999999997,"failureMessages":[],"meta":{}}],"startTime":1768311341542,"endTime":1768311341912.9507,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/services/ai/__tests__/performance.test.ts"},{"assertionResults":[{"ancestorTitles":["sanitizeUrl - Token Segmentation Logic"],"fullName":"sanitizeUrl - Token Segmentation Logic should sanitize fragmented IDs (avg token len < 3)","status":"passed","title":"should sanitize fragmented IDs (avg token len < 3)","duration":1.3292089999999916,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl - Token Segmentation Logic"],"fullName":"sanitizeUrl - Token Segmentation Logic should correctly split on regex special char separators (., -, +)","status":"passed","title":"should correctly split on regex special char separators (., -, +)","duration":0.17841600000008384,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl - Token Segmentation Logic"],"fullName":"sanitizeUrl - Token Segmentation Logic should KEEP multilingual slugs (avg token len > 3)","status":"passed","title":"should KEEP multilingual slugs (avg token len > 3)","duration":0.14279099999998834,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl - Token Segmentation Logic"],"fullName":"sanitizeUrl - Token Segmentation Logic should KEEP English CamelCase (avg token len > 3)","status":"passed","title":"should KEEP English CamelCase (avg token len > 3)","duration":0.09516699999994671,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl - Token Segmentation Logic"],"fullName":"sanitizeUrl - Token Segmentation Logic should sanitize super long single tokens (maxLen > 40)","status":"passed","title":"should sanitize super long single tokens (maxLen > 40)","duration":0.10733300000003965,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl"],"fullName":"sanitizeUrl should strip common tracking parameters","status":"passed","title":"should strip common tracking parameters","duration":0.21908299999995506,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl"],"fullName":"sanitizeUrl should strip clid, braid and ref parameters","status":"passed","title":"should strip clid, braid and ref parameters","duration":0.10104200000000674,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl"],"fullName":"sanitizeUrl should truncate extremely long URLs post-sanitization","status":"passed","title":"should truncate extremely long URLs post-sanitization","duration":0.12675000000001546,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl"],"fullName":"sanitizeUrl should remove mixed alphanumeric IDs but preserve slugs (CamelCase/Hyphens)","status":"passed","title":"should remove mixed alphanumeric IDs but preserve slugs (CamelCase/Hyphens)","duration":0.24633300000004965,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl"],"fullName":"sanitizeUrl should preserve short paths","status":"passed","title":"should preserve short paths","duration":0.3700420000000122,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl"],"fullName":"sanitizeUrl should return original string if invalid URL","status":"passed","title":"should return original string if invalid URL","duration":0.22133400000006986,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl"],"fullName":"sanitizeUrl should strip long ID in chrome webstore url","status":"passed","title":"should strip long ID in chrome webstore url","duration":0.23583299999995688,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl"],"fullName":"sanitizeUrl should strip long query params generically but keep whitelisted ones","status":"passed","title":"should strip long query params generically but keep whitelisted ones","duration":0.5630840000000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl"],"fullName":"sanitizeUrl should handle complex Google Search URLs (User Reported)","status":"passed","title":"should handle complex Google Search URLs (User Reported)","duration":0.6757080000000997,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeUrl"],"fullName":"sanitizeUrl should handle complex Google Search URL with gemini prompt (User Reported)","status":"passed","title":"should handle complex Google Search URL with gemini prompt (User Reported)","duration":0.8164580000000115,"failureMessages":[],"meta":{}}],"startTime":1768311345382,"endTime":1768311345387.8164,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/services/ai/__tests__/sanitization.test.ts"},{"assertionResults":[{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should parse raw JSON array (backward compatibility)","status":"passed","title":"should parse raw JSON array (backward compatibility)","duration":4.017624999999953,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should parse raw JSON dictionary (new format)","status":"passed","title":"should parse raw JSON dictionary (new format)","duration":1.0114999999999554,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should parse JSON wrapped in markdown code blocks","status":"passed","title":"should parse JSON wrapped in markdown code blocks","duration":0.7864160000000311,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should preferred earlier JSON object if multiple technically exist but find the structure correctly","status":"passed","title":"should preferred earlier JSON object if multiple technically exist but find the structure correctly","duration":0.21841599999993377,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should return empty object on completely malformed input","status":"passed","title":"should return empty object on completely malformed input","duration":3.3310409999999138,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should parse JSON with trailing commas","status":"passed","title":"should parse JSON with trailing commas","duration":0.9399580000000469,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should parse JSON with unquoted keys","status":"passed","title":"should parse JSON with unquoted keys","duration":0.7732079999999542,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should parse JSON with comments","status":"passed","title":"should parse JSON with comments","duration":1.1337090000000671,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","constructSystemPrompt"],"fullName":"shared utilities constructSystemPrompt should match the golden prompt structure","status":"passed","title":"should match the golden prompt structure","duration":0.272583999999938,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","constructSystemPrompt (CoD)"],"fullName":"shared utilities constructSystemPrompt (CoD) should match the golden prompt structure for readability","status":"passed","title":"should match the golden prompt structure for readability","duration":0.14687500000002274,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","constructSystemPrompt (CoD)"],"fullName":"shared utilities constructSystemPrompt (CoD) should match the golden prompt structure with custom rules","status":"passed","title":"should match the golden prompt structure with custom rules","duration":0.4055839999999762,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","handleAssignment"],"fullName":"shared utilities handleAssignment should normalize group names (trim)","status":"passed","title":"should normalize group names (trim)","duration":0.2547499999999445,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","handleAssignment"],"fullName":"shared utilities handleAssignment should NOT match existing groups case-insensitively (exact match only)","status":"passed","title":"should NOT match existing groups case-insensitively (exact match only)","duration":0.09054200000002766,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","handleAssignment"],"fullName":"shared utilities handleAssignment should create new group if no match found","status":"passed","title":"should create new group if no match found","duration":0.077666000000022,"failureMessages":[],"meta":{}}],"startTime":1768311345292,"endTime":1768311345306.4055,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/services/ai/__tests__/shared.test.ts"},{"assertionResults":[{"ancestorTitles":["SelectionCard"],"fullName":"SelectionCard should stop propagation when clicking content area while selected","status":"passed","title":"should stop propagation when clicking content area while selected","duration":20.937208000000055,"failureMessages":[],"meta":{}},{"ancestorTitles":["SelectionCard"],"fullName":"SelectionCard should select card when clicking content area while unselected","status":"passed","title":"should select card when clicking content area while unselected","duration":6.706457999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["SelectionCard"],"fullName":"SelectionCard should toggle when clicking header area","status":"passed","title":"should toggle when clicking header area","duration":6.466499999999996,"failureMessages":[],"meta":{}}],"startTime":1768311342984,"endTime":1768311343018.4666,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/sidepanel/components/__tests__/SelectionCard.test.tsx"},{"assertionResults":[{"ancestorTitles":["TabGrouperCard"],"fullName":"TabGrouperCard should show ungrouped count badge when idle with ungrouped tabs","status":"passed","title":"should show ungrouped count badge when idle with ungrouped tabs","duration":20.31116700000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabGrouperCard"],"fullName":"TabGrouperCard should render Regenerate button when previewing groups","status":"passed","title":"should render Regenerate button when previewing groups","duration":111.19620799999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabGrouperCard"],"fullName":"TabGrouperCard should show \"Analyzing...\" state when processing","status":"passed","title":"should show \"Analyzing...\" state when processing","duration":3.3903329999999414,"failureMessages":[],"meta":{}}],"startTime":1768311342231,"endTime":1768311342365.3904,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/sidepanel/components/__tests__/TabGrouperCard.test.tsx"},{"assertionResults":[{"ancestorTitles":["useFeatureSettings"],"fullName":"useFeatureSettings should NOT write to storage on mount (fix for initialization stomp)","status":"passed","title":"should NOT write to storage on mount (fix for initialization stomp)","duration":12.242500000000064,"failureMessages":[],"meta":{}},{"ancestorTitles":["useFeatureSettings"],"fullName":"useFeatureSettings should call updateFeature when a feature is updated","status":"passed","title":"should call updateFeature when a feature is updated","duration":7.175583999999958,"failureMessages":[],"meta":{}},{"ancestorTitles":["useFeatureSettings"],"fullName":"useFeatureSettings should optimistically update local state","status":"passed","title":"should optimistically update local state","duration":10.519416999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["useFeatureSettings"],"fullName":"useFeatureSettings should enforce autopilot logic in local optimistic state","status":"passed","title":"should enforce autopilot logic in local optimistic state","duration":11.030415999999946,"failureMessages":[],"meta":{}}],"startTime":1768311342935,"endTime":1768311342976.0305,"status":"passed","message":"","name":"/Users/larry/dev/lattice/src/sidepanel/hooks/__tests__/useFeatureSettings.test.tsx"},{"assertionResults":[{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should initialize and load ungrouped tabs","status":"passed","title":"should initialize and load ungrouped tabs","duration":68.80983300000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should load suggestions from storage on mount","status":"passed","title":"should load suggestions from storage on mount","duration":58.97854099999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should update preview when storage changes","status":"passed","title":"should update preview when storage changes","duration":105.44524999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should attempt reconnect on port disconnect","status":"passed","title":"should attempt reconnect on port disconnect","duration":2106.291833,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should wait for windowId before subscribing to storage","status":"passed","title":"should wait for windowId before subscribing to storage","duration":56.05645800000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should only load suggestions for current window","status":"passed","title":"should only load suggestions for current window","duration":55.72637500000019,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should maintain user selection when identical storage updates occur","status":"passed","title":"should maintain user selection when identical storage updates occur","duration":112.03512499999988,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should select new groups by default while preserving existing selections","status":"passed","title":"should select new groups by default while preserving existing selections","duration":160.62404199999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should select or deselect all groups using setAllGroupsSelected","status":"passed","title":"should select or deselect all groups using setAllGroupsSelected","duration":54.563750000000255,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should trigger regeneration and optimistically update state","status":"passed","title":"should trigger regeneration and optimistically update state","duration":57.76979200000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["useTabGrouper"],"fullName":"useTabGrouper should trigger processing and optimistically update state","status":"passed","title":"should trigger processing and optimistically update state","duration":52.7707919999998,"failureMessages":[],"meta":{}}],"startTime":1768311341667,"endTime":1768311344555.7708,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/hooks/__tests__/useTabGrouper.test.ts"},{"assertionResults":[{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should initialize with no processing","status":"passed","title":"should initialize with no processing","duration":1.8050409999999601,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should update status and sync to storage when adding items","status":"passed","title":"should update status and sync to storage when adding items","duration":3.56495799999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should handle priority (move to front) when adding existing window","status":"passed","title":"should handle priority (move to front) when adding existing window","duration":1.8049170000000458,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should not sync if status does not change","status":"passed","title":"should not sync if status does not change","duration":0.87662499999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should handle acquireQueue","status":"passed","title":"should handle acquireQueue","duration":0.7297500000000241,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should return pending items if acquireQueue called while busy","status":"passed","title":"should return pending items if acquireQueue called while busy","duration":0.9343749999999886,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should update status when completed","status":"passed","title":"should update status when completed","duration":0.41533300000003237,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState"],"fullName":"ProcessingState should handle remove correctly","status":"passed","title":"should handle remove correctly","duration":0.23841599999997243,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should verify matching snapshot","status":"passed","title":"should verify matching snapshot","duration":0.2194589999999721,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should fail verification if groups are different","status":"passed","title":"should fail verification if groups are different","duration":0.16204199999998536,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should fail verification if tabs are different","status":"passed","title":"should fail verification if tabs are different","duration":0.11400000000003274,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should reconstruct tab and group data from snapshot","status":"passed","title":"should reconstruct tab and group data from snapshot","duration":1.976541999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should isolate snapshots by window","status":"passed","title":"should isolate snapshots by window","duration":1.69158299999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should allow completing a specific window","status":"passed","title":"should allow completing a specific window","duration":0.20483300000000781,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState","Snapshotting"],"fullName":"ProcessingState Snapshotting should retain state if window is re-queued","status":"passed","title":"should retain state if window is re-queued","duration":0.2223750000000564,"failureMessages":[],"meta":{}}],"startTime":1768311342396,"endTime":1768311342411.2224,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/background/__tests__/processing.test.ts"},{"assertionResults":[{"ancestorTitles":["ProcessingState Persistence"],"fullName":"ProcessingState Persistence should NOT persist snapshot to storage immediately upon enqueue","status":"passed","title":"should NOT persist snapshot to storage immediately upon enqueue","duration":4.197625000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState Persistence"],"fullName":"ProcessingState Persistence should persist snapshot to storage ONLY when completeWindow is called","status":"passed","title":"should persist snapshot to storage ONLY when completeWindow is called","duration":8.284500000000094,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState Persistence"],"fullName":"ProcessingState Persistence should ignore enqueue requests if fingerprint matches existing in-memory state (Deduping)","status":"passed","title":"should ignore enqueue requests if fingerprint matches existing in-memory state (Deduping)","duration":0.4207499999999982,"failureMessages":[],"meta":{}},{"ancestorTitles":["ProcessingState Persistence"],"fullName":"ProcessingState Persistence should update in-memory state if fingerprint changes","status":"passed","title":"should update in-memory state if fingerprint changes","duration":0.22550000000001091,"failureMessages":[],"meta":{}}],"startTime":1768311344647,"endTime":1768311344660.4207,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/background/__tests__/processing_persistence.test.ts"},{"assertionResults":[{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should cache suggestions when autopilot is OFF","status":"passed","title":"should cache suggestions when autopilot is OFF","duration":6.765667000000008,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should apply groups immediately when autopilot is ON","status":"passed","title":"should apply groups immediately when autopilot is ON","duration":0.9808330000000751,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should handle window closed error gracefully","status":"passed","title":"should handle window closed error gracefully","duration":0.48604199999999764,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should skip non-normal windows","status":"passed","title":"should skip non-normal windows","duration":0.289957999999956,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should clear queue and release if Tab Grouper is disabled","status":"passed","title":"should clear queue and release if Tab Grouper is disabled","duration":0.2765000000000555,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should abort if snapshot verification fails","status":"passed","title":"should abort if snapshot verification fails","duration":0.5222499999999854,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should NOT cache negative results for missing tabs","status":"passed","title":"should NOT cache negative results for missing tabs","duration":0.8170000000000073,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should handle failed queue acquisition","status":"passed","title":"should handle failed queue acquisition","duration":0.2705000000000837,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should handle errors when applying suggestions in autopilot mode","status":"passed","title":"should handle errors when applying suggestions in autopilot mode","duration":3.583291000000031,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should handle AI errors and store them","status":"passed","title":"should handle AI errors and store them","duration":1.1416659999999865,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should track virtual group IDs when creating new groups in autopilot","status":"passed","title":"should track virtual group IDs when creating new groups in autopilot","duration":0.7480419999999413,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should handle missing window state gracefully","status":"passed","title":"should handle missing window state gracefully","duration":0.7101250000000618,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor"],"fullName":"QueueProcessor should handle windows with no ungrouped tabs","status":"passed","title":"should handle windows with no ungrouped tabs","duration":0.27312500000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor","Smart Abort Logic"],"fullName":"QueueProcessor Smart Abort Logic should abort if a fatal change (User Grouping) occurs during processing","status":"passed","title":"should abort if a fatal change (User Grouping) occurs during processing","duration":0.8089589999999589,"failureMessages":[],"meta":{}},{"ancestorTitles":["QueueProcessor","Smart Abort Logic"],"fullName":"QueueProcessor Smart Abort Logic should NOT abort if a benign change (New Tab) occurs","status":"passed","title":"should NOT abort if a benign change (New Tab) occurs","duration":2.1344589999999926,"failureMessages":[],"meta":{}}],"startTime":1768311343346,"endTime":1768311343366.1345,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/background/__tests__/queueProcessor.test.ts"},{"assertionResults":[{"ancestorTitles":["StateService"],"fullName":"StateService should start with empty cache","status":"passed","title":"should start with empty cache","duration":2.8932499999999663,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should hydrate from storage","status":"passed","title":"should hydrate from storage","duration":2.98924999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should update and persist suggestions","status":"passed","title":"should update and persist suggestions","duration":1.6015409999999974,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should remove suggestion","status":"passed","title":"should remove suggestion","duration":4.4985000000000355,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should return false when removing non-existent suggestion","status":"passed","title":"should return false when removing non-existent suggestion","duration":0.34316599999999653,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should notify listeners on update","status":"passed","title":"should notify listeners on update","duration":2.740000000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should get per-window cache","status":"passed","title":"should get per-window cache","duration":1.1472079999999778,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should store and retrieve window snapshots","status":"passed","title":"should store and retrieve window snapshots","duration":0.19041600000002745,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should hydrate snapshots from storage","status":"passed","title":"should hydrate snapshots from storage","duration":4.266499999999951,"failureMessages":[],"meta":{}},{"ancestorTitles":["StateService"],"fullName":"StateService should handle snapshot updates gracefully","status":"passed","title":"should handle snapshot updates gracefully","duration":3.6837090000000217,"failureMessages":[],"meta":{}}],"startTime":1768311346118,"endTime":1768311346143.6836,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/background/__tests__/state.test.ts"},{"assertionResults":[{"ancestorTitles":["TabManager","handleTabUpdated"],"fullName":"TabManager handleTabUpdated should remove suggestion if URL changed","status":"passed","title":"should remove suggestion if URL changed","duration":2.973459000000048,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated"],"fullName":"TabManager handleTabUpdated should remove suggestion if groupId changed","status":"passed","title":"should remove suggestion if groupId changed","duration":0.5098749999999654,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated"],"fullName":"TabManager handleTabUpdated should trigger recalculation if moved to TAB_ID_NONE","status":"passed","title":"should trigger recalculation if moved to TAB_ID_NONE","duration":0.7039999999999509,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated"],"fullName":"TabManager handleTabUpdated should NOT trigger recalculation if moved to a group","status":"passed","title":"should NOT trigger recalculation if moved to a group","duration":0.4066249999999627,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated"],"fullName":"TabManager handleTabUpdated should trigger recalculation if status is complete","status":"passed","title":"should trigger recalculation if status is complete","duration":0.3704170000000886,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated","Autopilot Duplicate Cleaning"],"fullName":"TabManager handleTabUpdated Autopilot Duplicate Cleaning should NOT check duplicates if autopilot is OFF","status":"passed","title":"should NOT check duplicates if autopilot is OFF","duration":0.35704199999997854,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated","Autopilot Duplicate Cleaning"],"fullName":"TabManager handleTabUpdated Autopilot Duplicate Cleaning should check and remove duplicates if autopilot is ON","status":"passed","title":"should check and remove duplicates if autopilot is ON","duration":1.4532080000000178,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","handleTabUpdated","Autopilot Duplicate Cleaning"],"fullName":"TabManager handleTabUpdated Autopilot Duplicate Cleaning should NOT remove updated tab if it is the one to keep","status":"passed","title":"should NOT remove updated tab if it is the one to keep","duration":0.552332999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","triggerRecalculation"],"fullName":"TabManager triggerRecalculation should debounce multiple rapid calls","status":"passed","title":"should debounce multiple rapid calls","duration":1.0484169999999722,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","triggerRecalculation"],"fullName":"TabManager triggerRecalculation should add windowId to processing state after debounce IF tab count > 0","status":"passed","title":"should add windowId to processing state after debounce IF tab count > 0","duration":3.1515000000000555,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","triggerRecalculation"],"fullName":"TabManager triggerRecalculation should NOT add windowId if tab count == 0 (fixed behavior)","status":"passed","title":"should NOT add windowId if tab count == 0 (fixed behavior)","duration":3.36687500000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","triggerRecalculation"],"fullName":"TabManager triggerRecalculation should process window if mismatch and tab count > 0","status":"passed","title":"should process window if mismatch and tab count > 0","duration":4.803916999999956,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","triggerRecalculation"],"fullName":"TabManager triggerRecalculation should NOT process window if state matches (no change)","status":"passed","title":"should NOT process window if state matches (no change)","duration":3.1936660000000074,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabManager","triggerRecalculation"],"fullName":"TabManager triggerRecalculation should process multiple windows","status":"passed","title":"should process multiple windows","duration":5.110541000000012,"failureMessages":[],"meta":{}}],"startTime":1768311343623,"endTime":1768311343651.1106,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/background/__tests__/tabManager.test.ts"},{"assertionResults":[{"ancestorTitles":["badge utils","calculateDuplicateCount"],"fullName":"badge utils calculateDuplicateCount should return 0 when no tabs","status":"passed","title":"should return 0 when no tabs","duration":1.4940420000000358,"failureMessages":[],"meta":{}},{"ancestorTitles":["badge utils","calculateDuplicateCount"],"fullName":"badge utils calculateDuplicateCount should count single duplicate pair in specific window","status":"passed","title":"should count single duplicate pair in specific window","duration":2.528332999999975,"failureMessages":[],"meta":{}},{"ancestorTitles":["badge utils","updateWindowBadge"],"fullName":"badge utils updateWindowBadge should show processing state","status":"passed","title":"should show processing state","duration":0.6137079999999742,"failureMessages":[],"meta":{}},{"ancestorTitles":["badge utils","updateWindowBadge"],"fullName":"badge utils updateWindowBadge should show total count","status":"passed","title":"should show total count","duration":0.2756250000001046,"failureMessages":[],"meta":{}},{"ancestorTitles":["badge utils","updateWindowBadge"],"fullName":"badge utils updateWindowBadge should do nothing if no active tab in window","status":"passed","title":"should do nothing if no active tab in window","duration":0.24574999999992997,"failureMessages":[],"meta":{}},{"ancestorTitles":["badge utils","updateWindowBadge"],"fullName":"badge utils updateWindowBadge should show error state with correct color","status":"passed","title":"should show error state with correct color","duration":0.35095799999999144,"failureMessages":[],"meta":{}}],"startTime":1768311346070,"endTime":1768311346075.351,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/utils/__tests__/badge.test.ts"},{"assertionResults":[{"ancestorTitles":["debounce"],"fullName":"debounce should delay function execution","status":"passed","title":"should delay function execution","duration":6.760541999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["debounce"],"fullName":"debounce should only call function once for rapid successive calls","status":"passed","title":"should only call function once for rapid successive calls","duration":4.291915999999901,"failureMessages":[],"meta":{}},{"ancestorTitles":["debounce"],"fullName":"debounce should reset timer on each call","status":"passed","title":"should reset timer on each call","duration":6.358875000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["debounce"],"fullName":"debounce should pass arguments to the debounced function","status":"passed","title":"should pass arguments to the debounced function","duration":3.7911249999999654,"failureMessages":[],"meta":{}},{"ancestorTitles":["debounce"],"fullName":"debounce should use the last arguments when called multiple times","status":"passed","title":"should use the last arguments when called multiple times","duration":7.247582999999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["debounce"],"fullName":"debounce should allow multiple separate debounced calls after delay","status":"passed","title":"should allow multiple separate debounced calls after delay","duration":8.023374999999987,"failureMessages":[],"meta":{}}],"startTime":1768311345350,"endTime":1768311345387.0234,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/utils/__tests__/debounce.test.ts"},{"assertionResults":[{"ancestorTitles":["AppError"],"fullName":"AppError should correctly capture the message and original error","status":"passed","title":"should correctly capture the message and original error","duration":3.278874999999971,"failureMessages":[],"meta":{}},{"ancestorTitles":["AIProviderError"],"fullName":"AIProviderError should be instance of AppError","status":"passed","title":"should be instance of AppError","duration":0.5714169999999967,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFriendlyError"],"fullName":"getUserFriendlyError should handle ConfigurationError","status":"passed","title":"should handle ConfigurationError","duration":0.48787499999991724,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFriendlyError"],"fullName":"getUserFriendlyError should handle AIProviderError for Local AI unavailability","status":"passed","title":"should handle AIProviderError for Local AI unavailability","duration":0.3932910000000902,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFriendlyError"],"fullName":"getUserFriendlyError should handle NetworkError","status":"passed","title":"should handle NetworkError","duration":0.4024580000000242,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFriendlyError"],"fullName":"getUserFriendlyError should fall back to message for unknown errors","status":"passed","title":"should fall back to message for unknown errors","duration":0.22049999999990177,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFriendlyError"],"fullName":"getUserFriendlyError should handle legacy string matching for Gemini API keys","status":"passed","title":"should handle legacy string matching for Gemini API keys","duration":0.1814999999999145,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFriendlyError"],"fullName":"getUserFriendlyError should handle Gemini 429 error by status code","status":"passed","title":"should handle Gemini 429 error by status code","duration":0.1440420000000131,"failureMessages":[],"meta":{}}],"startTime":1768311346457,"endTime":1768311346463.1814,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/utils/__tests__/errors.test.ts"},{"assertionResults":[{"ancestorTitles":["WindowSnapshot Integration"],"fullName":"WindowSnapshot Integration should exclude grouped tabs from groupable tabs list","status":"passed","title":"should exclude grouped tabs from groupable tabs list","duration":0.8347919999999931,"failureMessages":[],"meta":{}},{"ancestorTitles":["WindowSnapshot Integration"],"fullName":"WindowSnapshot Integration should generate correct batches ignoring grouped tabs","status":"passed","title":"should generate correct batches ignoring grouped tabs","duration":0.1598329999999919,"failureMessages":[],"meta":{}}],"startTime":1768311346656,"endTime":1768311346657.16,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/utils/__tests__/snapshots.test.ts"},{"assertionResults":[{"ancestorTitles":["SettingsStorage"],"fullName":"SettingsStorage should return default rules when custom rules are empty and resolveDefaults is true (default)","status":"passed","title":"should return default rules when custom rules are empty and resolveDefaults is true (default)","duration":0.8617909999999824,"failureMessages":[],"meta":{}},{"ancestorTitles":["SettingsStorage"],"fullName":"SettingsStorage should return default rules when custom rules are explicitly empty string and resolveDefaults is true","status":"passed","title":"should return default rules when custom rules are explicitly empty string and resolveDefaults is true","duration":0.14233300000000781,"failureMessages":[],"meta":{}},{"ancestorTitles":["SettingsStorage"],"fullName":"SettingsStorage should return empty string when custom rules are empty and resolveDefaults is false","status":"passed","title":"should return empty string when custom rules are empty and resolveDefaults is false","duration":0.11095800000003919,"failureMessages":[],"meta":{}},{"ancestorTitles":["SettingsStorage"],"fullName":"SettingsStorage should return custom rules when they exist, regardless of resolveDefaults","status":"passed","title":"should return custom rules when they exist, regardless of resolveDefaults","duration":0.1488750000000323,"failureMessages":[],"meta":{}},{"ancestorTitles":["SettingsStorage"],"fullName":"SettingsStorage should split settings between sync and local storage on set","status":"passed","title":"should split settings between sync and local storage on set","duration":1.7688330000000292,"failureMessages":[],"meta":{}}],"startTime":1768311342244,"endTime":1768311342246.7688,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/utils/__tests__/storage.test.ts"},{"assertionResults":[{"ancestorTitles":["tabFilter","isEmptyNewTab"],"fullName":"tabFilter isEmptyNewTab should identify empty new tab pages","status":"passed","title":"should identify empty new tab pages","duration":0.6959999999999695,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return true for normal tabs","status":"passed","title":"should return true for normal tabs","duration":0.10704199999997854,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return false for tabs without ID","status":"passed","title":"should return false for tabs without ID","duration":0.06766600000003109,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return false for tabs without URL","status":"passed","title":"should return false for tabs without URL","duration":0.07200000000000273,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return false for tabs without title","status":"passed","title":"should return false for tabs without title","duration":0.07679200000001174,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return false for loading tabs","status":"passed","title":"should return false for loading tabs","duration":0.058207999999979165,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return false for empty new tab pages","status":"passed","title":"should return false for empty new tab pages","duration":0.04695800000001782,"failureMessages":[],"meta":{}},{"ancestorTitles":["tabFilter","isGroupableTab"],"fullName":"tabFilter isGroupableTab should return false for grouped tabs","status":"passed","title":"should return false for grouped tabs","duration":0.04204200000003766,"failureMessages":[],"meta":{}}],"startTime":1768311346661,"endTime":1768311346663.058,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/utils/__tests__/tabFilter.test.ts"},{"assertionResults":[{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should return undefined if no tabIds provided","status":"passed","title":"should return undefined if no tabIds provided","duration":3.0534999999999854,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should create a new group with windowId if no existingGroupId provided","status":"passed","title":"should create a new group with windowId if no existingGroupId provided","duration":3.768165999999951,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should add to existing group if existingGroupId provided","status":"passed","title":"should add to existing group if existingGroupId provided","duration":0.6950829999999542,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should fallback to creating new group if adding to existing group fails with \"No group with id\"","status":"passed","title":"should fallback to creating new group if adding to existing group fails with \"No group with id\"","duration":3.4134169999999813,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should throw error if adding to existing group fails with other error","status":"passed","title":"should throw error if adding to existing group fails with other error","duration":5.175791000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should return undefined if window is not normal type","status":"passed","title":"should return undefined if window is not normal type","duration":0.707416999999964,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should return undefined if window does not exist","status":"passed","title":"should return undefined if window does not exist","duration":1.089334000000008,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should filter out tabs not in the window","status":"passed","title":"should filter out tabs not in the window","duration":1.8474580000000742,"failureMessages":[],"meta":{}},{"ancestorTitles":["applyTabGroup"],"fullName":"applyTabGroup should return undefined if no tabs are in the window","status":"passed","title":"should return undefined if no tabs are in the window","duration":0.21820900000000165,"failureMessages":[],"meta":{}}],"startTime":1768311346140,"endTime":1768311346161.2183,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/utils/__tests__/tabs.test.ts"},{"assertionResults":[{"ancestorTitles":["Integration Flow: Auto-Grouping & Smart Abort"],"fullName":"Integration Flow: Auto-Grouping & Smart Abort Scenario 1: Auto-Grouping - Should group tabs based on URL content","status":"passed","title":"Scenario 1: Auto-Grouping - Should group tabs based on URL content","duration":19.059334000000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration Flow: Auto-Grouping & Smart Abort"],"fullName":"Integration Flow: Auto-Grouping & Smart Abort Scenario 2: Smart Abort - Should handle gracefully when tab is removed before processing","status":"passed","title":"Scenario 2: Smart Abort - Should handle gracefully when tab is removed before processing","duration":13.145500000000084,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration Flow: Auto-Grouping & Smart Abort"],"fullName":"Integration Flow: Auto-Grouping & Smart Abort Scenario 3: Mixed content - Groups correctly","status":"passed","title":"Scenario 3: Mixed content - Groups correctly","duration":13.388625000000047,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration Flow: Auto-Grouping & Smart Abort"],"fullName":"Integration Flow: Auto-Grouping & Smart Abort Scenario 4: Smart Abort - Should abort AI call when fatal change detected during processing","status":"passed","title":"Scenario 4: Smart Abort - Should abort AI call when fatal change detected during processing","duration":270.299708,"failureMessages":[],"meta":{}}],"startTime":1768311341844,"endTime":1768311342160.2998,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/background/__tests__/integration/flow.test.ts"},{"assertionResults":[{"ancestorTitles":["SelectionCard"],"fullName":"SelectionCard should stop propagation when clicking content area while selected","status":"passed","title":"should stop propagation when clicking content area while selected","duration":18.955874999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["SelectionCard"],"fullName":"SelectionCard should select card when clicking content area while unselected","status":"passed","title":"should select card when clicking content area while unselected","duration":2.460374999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["SelectionCard"],"fullName":"SelectionCard should toggle when clicking header area","status":"passed","title":"should toggle when clicking header area","duration":3.9382920000000468,"failureMessages":[],"meta":{}}],"startTime":1768311342846,"endTime":1768311342871.9382,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/sidepanel/components/__tests__/SelectionCard.test.tsx"},{"assertionResults":[{"ancestorTitles":["TabGrouperCard"],"fullName":"TabGrouperCard should show ungrouped count badge when idle with ungrouped tabs","status":"passed","title":"should show ungrouped count badge when idle with ungrouped tabs","duration":32.04979100000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabGrouperCard"],"fullName":"TabGrouperCard should render Regenerate button when previewing groups","status":"passed","title":"should render Regenerate button when previewing groups","duration":109.54270900000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["TabGrouperCard"],"fullName":"TabGrouperCard should show \"Analyzing...\" state when processing","status":"passed","title":"should show \"Analyzing...\" state when processing","duration":3.0047080000001642,"failureMessages":[],"meta":{}}],"startTime":1768311341666,"endTime":1768311341811.0046,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/sidepanel/components/__tests__/TabGrouperCard.test.tsx"},{"assertionResults":[{"ancestorTitles":["DuplicateCloser","closeDuplicates"],"fullName":"DuplicateCloser closeDuplicates should close duplicate tabs in current window","status":"passed","title":"should close duplicate tabs in current window","duration":1.8549579999998969,"failureMessages":[],"meta":{}},{"ancestorTitles":["DuplicateCloser","closeDuplicates"],"fullName":"DuplicateCloser closeDuplicates should return empty result when no duplicates exist","status":"passed","title":"should return empty result when no duplicates exist","duration":0.25166600000000017,"failureMessages":[],"meta":{}},{"ancestorTitles":["DuplicateCloser","closeDuplicates"],"fullName":"DuplicateCloser closeDuplicates should use windowId when provided","status":"passed","title":"should use windowId when provided","duration":0.19695799999999508,"failureMessages":[],"meta":{}},{"ancestorTitles":["DuplicateCloser","closeDuplicatesInWindow"],"fullName":"DuplicateCloser closeDuplicatesInWindow should close duplicates in specific window","status":"passed","title":"should close duplicates in specific window","duration":0.27679200000000037,"failureMessages":[],"meta":{}},{"ancestorTitles":["DuplicateCloser","closeDuplicatesInWindow"],"fullName":"DuplicateCloser closeDuplicatesInWindow should keep pinned tabs over unpinned duplicates","status":"passed","title":"should keep pinned tabs over unpinned duplicates","duration":0.1692920000000413,"failureMessages":[],"meta":{}},{"ancestorTitles":["DuplicateCloser","closeDuplicatesInWindow"],"fullName":"DuplicateCloser closeDuplicatesInWindow should keep active tab over inactive duplicates","status":"passed","title":"should keep active tab over inactive duplicates","duration":0.14970799999991868,"failureMessages":[],"meta":{}}],"startTime":1768311344006,"endTime":1768311344009.2769,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/services/duplicates/__tests__/DuplicateCloser.test.ts"},{"assertionResults":[{"ancestorTitles":["duplicates utility","findDuplicates"],"fullName":"duplicates utility findDuplicates should group tabs by normalized URL","status":"passed","title":"should group tabs by normalized URL","duration":0.7863750000000209,"failureMessages":[],"meta":{}},{"ancestorTitles":["duplicates utility","findDuplicates"],"fullName":"duplicates utility findDuplicates should ignore tabs without URL","status":"passed","title":"should ignore tabs without URL","duration":0.10524999999995543,"failureMessages":[],"meta":{}},{"ancestorTitles":["duplicates utility","countDuplicates"],"fullName":"duplicates utility countDuplicates should count extra tabs as duplicates","status":"passed","title":"should count extra tabs as duplicates","duration":0.10891700000001947,"failureMessages":[],"meta":{}},{"ancestorTitles":["duplicates utility","getTabsToRemove"],"fullName":"duplicates utility getTabsToRemove should keep pinned tabs","status":"passed","title":"should keep pinned tabs","duration":0.4049999999999727,"failureMessages":[],"meta":{}},{"ancestorTitles":["duplicates utility","getTabsToRemove"],"fullName":"duplicates utility getTabsToRemove should keep active tabs","status":"passed","title":"should keep active tabs","duration":0.10779200000001765,"failureMessages":[],"meta":{}},{"ancestorTitles":["duplicates utility","getTabsToRemove"],"fullName":"duplicates utility getTabsToRemove should keep pinned over active","status":"passed","title":"should keep pinned over active","duration":0.08729200000004766,"failureMessages":[],"meta":{}},{"ancestorTitles":["duplicates utility","getTabsToRemove"],"fullName":"duplicates utility getTabsToRemove should keep oldest (lowest ID) if everything else equal","status":"passed","title":"should keep oldest (lowest ID) if everything else equal","duration":0.07112500000005184,"failureMessages":[],"meta":{}}],"startTime":1768311345709,"endTime":1768311345711.108,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/services/duplicates/__tests__/utils.test.ts"},{"assertionResults":[{"ancestorTitles":["AIService"],"fullName":"AIService should return GeminiProvider when aiProvider is gemini","status":"passed","title":"should return GeminiProvider when aiProvider is gemini","duration":3.612500000000068,"failureMessages":[],"meta":{}},{"ancestorTitles":["AIService"],"fullName":"AIService should return LocalProvider when aiProvider is local","status":"passed","title":"should return LocalProvider when aiProvider is local","duration":0.7437919999999849,"failureMessages":[],"meta":{}},{"ancestorTitles":["AIService","listGeminiModels"],"fullName":"AIService listGeminiModels should return empty list if api key is missing","status":"passed","title":"should return empty list if api key is missing","duration":1.5893750000000182,"failureMessages":[],"meta":{}},{"ancestorTitles":["AIService","listGeminiModels"],"fullName":"AIService listGeminiModels should list and filter models correctly","status":"passed","title":"should list and filter models correctly","duration":6.24066700000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["AIService","listGeminiModels"],"fullName":"AIService listGeminiModels should handle API errors gracefully","status":"passed","title":"should handle API errors gracefully","duration":6.458915999999931,"failureMessages":[],"meta":{}}],"startTime":1768311345292,"endTime":1768311345311.459,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/services/ai/__tests__/AIService.test.ts"},{"assertionResults":[{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should collect error if API key is missing","status":"passed","title":"should collect error if API key is missing","duration":11.806042000000048,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should collect error if model is missing","status":"passed","title":"should collect error if model is missing","duration":0.76987500000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should correctly handle assignments and group mapping","status":"passed","title":"should correctly handle assignments and group mapping","duration":1.1520829999999478,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should use existing group ID if AI returns existing name","status":"passed","title":"should use existing group ID if AI returns existing name","duration":0.36979200000007495,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should handle malformed JSON response gracefully","status":"passed","title":"should handle malformed JSON response gracefully","duration":0.9580419999999776,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should collect error on empty response text","status":"passed","title":"should collect error on empty response text","duration":0.4533329999999296,"failureMessages":[],"meta":{}},{"ancestorTitles":["GeminiProvider"],"fullName":"GeminiProvider should handle Gemma models differently (no system instruction in config)","status":"passed","title":"should handle Gemma models differently (no system instruction in config)","duration":0.2785000000000082,"failureMessages":[],"meta":{}}],"startTime":1768311344715,"endTime":1768311344730.4534,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/services/ai/__tests__/GeminiProvider.test.ts"},{"assertionResults":[{"ancestorTitles":["LocalProvider","checkAvailability"],"fullName":"LocalProvider checkAvailability should return \"unavailable\" if AI API is not present","status":"passed","title":"should return \"unavailable\" if AI API is not present","duration":1.3632920000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider","checkAvailability"],"fullName":"LocalProvider checkAvailability should return availability status from API","status":"passed","title":"should return availability status from API","duration":0.2251250000000482,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider","checkAvailability"],"fullName":"LocalProvider checkAvailability should return \"unavailable\" if availability check throws","status":"passed","title":"should return \"unavailable\" if availability check throws","duration":2.648292000000083,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should initialize session on first call","status":"passed","title":"should initialize session on first call","duration":1.6832500000000437,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should reuse cached session if prompts match","status":"passed","title":"should reuse cached session if prompts match","duration":2.356999999999971,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should re-initialize session if rules change","status":"passed","title":"should re-initialize session if rules change","duration":0.5762080000000651,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should process all tabs in a single batch prompt","status":"passed","title":"should process all tabs in a single batch prompt","duration":1.0414590000000317,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should collect error if AI API is not supported","status":"passed","title":"should collect error if AI API is not supported","duration":5.612917000000039,"failureMessages":[],"meta":{}},{"ancestorTitles":["LocalProvider"],"fullName":"LocalProvider should initialize download model with monitoring","status":"passed","title":"should initialize download model with monitoring","duration":0.6830830000000105,"failureMessages":[],"meta":{}}],"startTime":1768311344636,"endTime":1768311344651.683,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/services/ai/__tests__/LocalProvider.test.ts"},{"assertionResults":[{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should parse raw JSON array (backward compatibility)","status":"passed","title":"should parse raw JSON array (backward compatibility)","duration":2.056500000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should parse raw JSON dictionary (new format)","status":"passed","title":"should parse raw JSON dictionary (new format)","duration":0.23687500000005457,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should parse JSON wrapped in markdown code blocks","status":"passed","title":"should parse JSON wrapped in markdown code blocks","duration":0.12170800000001236,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should preferred earlier JSON object if multiple technically exist but find the structure correctly","status":"passed","title":"should preferred earlier JSON object if multiple technically exist but find the structure correctly","duration":0.20812499999999545,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should return empty object on completely malformed input","status":"passed","title":"should return empty object on completely malformed input","duration":4.010332999999946,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should parse JSON with trailing commas","status":"passed","title":"should parse JSON with trailing commas","duration":0.14512500000000728,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should parse JSON with unquoted keys","status":"passed","title":"should parse JSON with unquoted keys","duration":0.2393329999999878,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","cleanAndParseJson"],"fullName":"shared utilities cleanAndParseJson should parse JSON with comments","status":"passed","title":"should parse JSON with comments","duration":0.13020799999992505,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","constructSystemPrompt"],"fullName":"shared utilities constructSystemPrompt should match the golden prompt structure","status":"passed","title":"should match the golden prompt structure","duration":0.1543330000000651,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","constructSystemPrompt"],"fullName":"shared utilities constructSystemPrompt should include custom rules if provided","status":"passed","title":"should include custom rules if provided","duration":0.13987500000007458,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","constructSystemPrompt (CoD)"],"fullName":"shared utilities constructSystemPrompt (CoD) should match the golden prompt structure for readability","status":"passed","title":"should match the golden prompt structure for readability","duration":0.06508300000007239,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","constructSystemPrompt (CoD)"],"fullName":"shared utilities constructSystemPrompt (CoD) should match the golden prompt structure with custom rules","status":"passed","title":"should match the golden prompt structure with custom rules","duration":0.0582089999999198,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","handleAssignment"],"fullName":"shared utilities handleAssignment should normalize group names (trim)","status":"passed","title":"should normalize group names (trim)","duration":0.09391600000003564,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","handleAssignment"],"fullName":"shared utilities handleAssignment should NOT match existing groups case-insensitively (exact match only)","status":"passed","title":"should NOT match existing groups case-insensitively (exact match only)","duration":0.06854200000009314,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","handleAssignment"],"fullName":"shared utilities handleAssignment should create new group if no match found","status":"passed","title":"should create new group if no match found","duration":0.06579199999998764,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","sanitizeUrl"],"fullName":"shared utilities sanitizeUrl should strip common tracking parameters","status":"passed","title":"should strip common tracking parameters","duration":0.22941600000001472,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","sanitizeUrl"],"fullName":"shared utilities sanitizeUrl should strip clid, braid and ref parameters","status":"passed","title":"should strip clid, braid and ref parameters","duration":0.08766700000001038,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","sanitizeUrl"],"fullName":"shared utilities sanitizeUrl should truncate extremely long URLs post-sanitization","status":"passed","title":"should truncate extremely long URLs post-sanitization","duration":0.13533300000005966,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","sanitizeUrl"],"fullName":"shared utilities sanitizeUrl should remove mixed alphanumeric IDs but preserve slugs (CamelCase/Hyphens)","status":"passed","title":"should remove mixed alphanumeric IDs but preserve slugs (CamelCase/Hyphens)","duration":0.2253330000000915,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","sanitizeUrl"],"fullName":"shared utilities sanitizeUrl should preserve short paths","status":"passed","title":"should preserve short paths","duration":0.04958299999998417,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","sanitizeUrl"],"fullName":"shared utilities sanitizeUrl should return original string if invalid URL","status":"passed","title":"should return original string if invalid URL","duration":0.053167000000030384,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","sanitizeUrl"],"fullName":"shared utilities sanitizeUrl should strip long ID in chrome webstore url","status":"passed","title":"should strip long ID in chrome webstore url","duration":0.07125000000007731,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","sanitizeUrl"],"fullName":"shared utilities sanitizeUrl should strip long query params generically but keep whitelisted ones","status":"passed","title":"should strip long query params generically but keep whitelisted ones","duration":0.12958400000002257,"failureMessages":[],"meta":{}},{"ancestorTitles":["shared utilities","sanitizeUrl"],"fullName":"shared utilities sanitizeUrl should handle complex Google Search URLs (User Reported)","status":"passed","title":"should handle complex Google Search URLs (User Reported)","duration":0.2055409999999256,"failureMessages":[],"meta":{}}],"startTime":1768311344962,"endTime":1768311344972.2056,"status":"passed","message":"","name":"/Users/larry/dev/lattice/.workspaces/url-sanitization-fix/src/services/ai/__tests__/shared.test.ts"}]}